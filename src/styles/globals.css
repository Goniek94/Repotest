/* Import Google Material Icons */
@import url('https://fonts.googleapis.com/icon?family=Material+Icons');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;
    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;
    --primary: 222.2 47.4% 11.2%;
    --primary-foreground: 210 40% 98%;
    --secondary: 210 40% 96.1%;
    --secondary-foreground: 222.2 47.4% 11.2%;
    --muted: 210 40% 96.1%;
    --muted-foreground: 215.4 16.3% 46.9%;
    --accent: 210 40% 96.1%;
    --accent-foreground: 222.2 47.4% 11.2%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;
    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 222.2 84% 4.9%;
    --radius: 0.5rem;
    --chart-1: 12 76% 61%;
    --chart-2: 173 58% 39%;
    --chart-3: 197 37% 24%;
    --chart-4: 43 74% 66%;
    --chart-5: 27 87% 67%;
  }

  .dark {
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;
    --card: 222.2 84% 4.9%;
    --card-foreground: 210 40% 98%;
    --popover: 222.2 84% 4.9%;
    --popover-foreground: 210 40% 98%;
    --primary: 210 40% 98%;
    --primary-foreground: 222.2 47.4% 11.2%;
    --secondary: 217.2 32.6% 17.5%;
    --secondary-foreground: 210 40% 98%;
    --muted: 217.2 32.6% 17.5%;
    --muted-foreground: 215 20.2% 65.1%;
    --accent: 217.2 32.6% 17.5%;
    --accent-foreground: 210 40% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;
    --border: 217.2 32.6% 17.5%;
    --input: 217.2 32.6% 17.5%;
    --ring: 212.7 26.8% 83.9%;
    --chart-1: 220 70% 50%;
    --chart-2: 160 60% 45%;
    --chart-3: 30 80% 55%;
    --chart-4: 280 65% 60%;
    --chart-5: 340 75% 55%;
  }
}

@layer base {
  /* —— Bazowy reset pod czytelność —— */
  html, body { height: 100%; }
  * { box-sizing: border-box; @apply border-border; }
  body { margin: 0; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; }
  :root { --lh-body: 1.6; --lh-heading: 1.25; }

  /* —— FLUID TYPOGRAPHY SYSTEM —— 
     Responsive font scaling optimized for Full HD (1920×1080) */
  html { 
    font-size: clamp(100%, 0.3vw + 0.9rem, 106.25%); /* 16px → 17px fluid */
  }

  /* —— Body i nagłówki z fluid scaling —— */
  body { 
    font-size: clamp(0.875rem, 1.2vw, 1rem); /* 14px → 16px */
    line-height: var(--lh-body); 
    color: #0f172a; 
    background: #fff;
    @apply bg-white text-foreground;
  }
  
  h1, h2, h3, h4, h5, h6 { 
    margin: 0 0 0.5em; 
    font-weight: 700; 
    line-height: var(--lh-heading);
  }

  /* —— FLUID TYPOGRAPHY SCALE —— */
  h1 { font-size: clamp(1.75rem, 2.5vw, 2.25rem); }      /* 28px → 36px */
  h2 { font-size: clamp(1.5rem, 2.2vw, 2rem); }          /* 24px → 32px */
  h3 { font-size: clamp(1.25rem, 1.8vw, 1.625rem); }     /* 20px → 26px */
  h4 { font-size: clamp(1.125rem, 1.5vw, 1.375rem); }    /* 18px → 22px */
  h5 { font-size: clamp(1rem, 1.2vw, 1.125rem); }        /* 16px → 18px */
  h6 { font-size: clamp(0.875rem, 1vw, 1rem); }          /* 14px → 16px */

  /* —— RESPONSIVE TEXT UTILITIES —— */
  .text-fluid-xs { font-size: clamp(0.75rem, 0.8vw, 0.8125rem); }   /* 12px → 13px */
  .text-fluid-sm { font-size: clamp(0.875rem, 1vw, 0.9375rem); }    /* 14px → 15px */
  .text-fluid-base { font-size: clamp(1rem, 1.2vw, 1.0625rem); }    /* 16px → 17px */
  .text-fluid-lg { font-size: clamp(1.125rem, 1.5vw, 1.1875rem); }  /* 18px → 19px */
  .text-fluid-xl { font-size: clamp(1.25rem, 1.8vw, 1.3125rem); }   /* 20px → 21px */
  .text-fluid-2xl { font-size: clamp(1.5rem, 2.2vw, 1.625rem); }    /* 24px → 26px */
  .text-fluid-3xl { font-size: clamp(1.875rem, 2.5vw, 2rem); }      /* 30px → 32px */

  /* —— RESPONSIVE LINE HEIGHTS —— */
  .leading-fluid-tight { line-height: clamp(1.2, 0.5vw + 1.1, 1.3); }
  .leading-fluid-normal { line-height: clamp(1.4, 0.5vw + 1.3, 1.6); }
  .leading-fluid-relaxed { line-height: clamp(1.5, 0.5vw + 1.4, 1.7); }

  /* Teksty pomocnicze z responsive scaling */
  small, .text-small { 
    font-size: clamp(0.75rem, 0.8vw, 0.8125rem); 
    line-height: clamp(1.4, 0.1vw + 1.35, 1.45); 
  }
  .caption { 
    font-size: clamp(0.6875rem, 0.6vw, 0.75rem); 
    line-height: clamp(1.3, 0.1vw + 1.25, 1.35); 
  }

  /* Długość linii i poziomy scroll (czytelność) */
  .prose, .richtext { max-width: 72ch; }
  body { overflow-x: hidden; }

  /* Dostępność focus */
  :focus-visible { outline: none; box-shadow: 0 0 0 3px rgba(59,130,246,.7); border-radius: 6px; }
}

/* Style dla podniesionego panelu użytkownika */
.panel-raised .max-w-7xl {
  transform: translateY(-20px);
  transition: transform 0.3s ease;
  box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
  border-radius: 0 0 8px 8px;
  z-index: 10;
  position: relative;
}

/* Dodatkowe style dla wersji mobilnej */
@media (max-width: 768px) {
  .panel-raised .max-w-7xl {
    transform: translateY(-15px);
  }
}

@layer components {
  /* —— RESPONSIVE SPACING SYSTEM —— */
  .section {
    /* Fluid section spacing - zmniejszone dla lepszej proporcji */
    padding-top: clamp(1.25rem, 2.5vw, 2rem);    /* 20px → 32px */
    padding-bottom: clamp(1.25rem, 2.5vw, 2rem); /* 20px → 32px */
  }
  
  .grid-spacing {
    gap: clamp(0.875rem, 2vw, 1.5rem); /* 14px → 24px fluid gap */
  }
  
  /* —— RESPONSIVE CONTAINERS —— */
  .wrapper {
    @apply container mx-auto;
    padding-left: clamp(1rem, 2vw, 1.5rem);  /* 16px → 24px */
    padding-right: clamp(1rem, 2vw, 1.5rem); /* 16px → 24px */
  }
  
  .container-content {
    @apply container max-w-container-xl 2xl:max-w-container-2xl;
  }
  
  .card {
    @apply rounded-xl border border-gray-200;
    padding: clamp(0.875rem, 1.8vw, 1.25rem); /* 14px → 20px fluid padding */
  }
  
  /* —— RESPONSIVE SPACING UTILITIES —— */
  .spacing-xs { margin: clamp(0.25rem, 0.3vw, 0.375rem); }     /* 4px → 6px */
  .spacing-sm { margin: clamp(0.5rem, 0.6vw, 0.625rem); }      /* 8px → 10px */
  .spacing-md { margin: clamp(0.75rem, 1vw, 0.875rem); }       /* 12px → 14px */
  .spacing-lg { margin: clamp(1rem, 1.5vw, 1.25rem); }         /* 16px → 20px */
  .spacing-xl { margin: clamp(1.25rem, 2vw, 1.5rem); }         /* 20px → 24px */
  .spacing-2xl { margin: clamp(1.5rem, 2.5vw, 2rem); }         /* 24px → 32px */
  
  /* —— TOUCH TARGETS & ACCESSIBILITY —— */
  .tap-target {
    min-height: clamp(44px, 10vw, 48px); /* Apple/Google guidelines */
    min-width: clamp(44px, 10vw, 48px);
    @apply flex items-center justify-center;
  }
  
  .tap-target-sm {
    min-height: clamp(40px, 8vw, 44px);
    min-width: clamp(40px, 8vw, 44px);
    @apply flex items-center justify-center;
  }
  
  .tap-target-lg {
    min-height: clamp(48px, 12vw, 56px);
    min-width: clamp(48px, 12vw, 56px);
    @apply flex items-center justify-center;
  }
  
  /* —— RESPONSIVE FORM ELEMENTS —— */
  .form-input {
    height: clamp(2.5rem, 3vw, 2.75rem); /* 40px → 44px */
    padding-left: clamp(0.75rem, 1.2vw, 0.875rem);
    padding-right: clamp(0.75rem, 1.2vw, 0.875rem);
    font-size: clamp(0.875rem, 1.2vw, 0.9375rem); /* 14px → 15px */
  }
  
  .form-input-lg {
    height: clamp(2.75rem, 3.5vw, 3rem); /* 44px → 48px */
    padding-left: clamp(1rem, 1.5vw, 1.125rem);
    padding-right: clamp(1rem, 1.5vw, 1.125rem);
    font-size: clamp(1rem, 1.5vw, 1.0625rem); /* 16px → 17px */
  }
  
  /* —— RESPONSIVE BUTTONS —— */
  .btn-responsive {
    height: clamp(2.25rem, 2.5vw, 2.5rem); /* 36px → 40px */
    padding-left: clamp(0.875rem, 1.5vw, 1rem);
    padding-right: clamp(0.875rem, 1.5vw, 1rem);
    font-size: clamp(0.8125rem, 1vw, 0.875rem); /* 13px → 14px */
    @apply tap-target-sm;
  }
  
  .btn-responsive-sm {
    height: clamp(2rem, 2.2vw, 2.25rem); /* 32px → 36px */
    padding-left: clamp(0.625rem, 1vw, 0.75rem);
    padding-right: clamp(0.625rem, 1vw, 0.75rem);
    font-size: clamp(0.75rem, 0.9vw, 0.8125rem); /* 12px → 13px */
    @apply tap-target-sm;
  }
  
  .btn-responsive-lg {
    height: clamp(2.5rem, 3vw, 2.75rem); /* 40px → 44px */
    padding-left: clamp(1rem, 1.8vw, 1.25rem);
    padding-right: clamp(1rem, 1.8vw, 1.25rem);
    font-size: clamp(0.875rem, 1.2vw, 0.9375rem); /* 14px → 15px */
    @apply tap-target;
  }
}

/* Custom scrollbar styles */
.scrollbar-thin {
  scrollbar-width: thin;
}

.scrollbar-thin::-webkit-scrollbar {
  width: 6px;
}

.scrollbar-thumb-gray-300::-webkit-scrollbar-thumb {
  background-color: #d1d5db;
  border-radius: 3px;
}

.scrollbar-thumb-gray-300::-webkit-scrollbar-thumb:hover {
  background-color: #9ca3af;
}

.scrollbar-track-gray-100::-webkit-scrollbar-track {
  background-color: #f3f4f6;
  border-radius: 3px;
}

/* Firefox scrollbar */
.scrollbar-thin {
  scrollbar-color: #d1d5db #f3f4f6;
}

/* Enhanced scrollbar styles for conversations panel */
.scrollbar-visible {
  scrollbar-width: auto !important;
  scrollbar-color: #9ca3af #f9fafb !important;
}

.scrollbar-visible::-webkit-scrollbar {
  width: 8px !important;
  display: block !important;
}

.scrollbar-visible::-webkit-scrollbar-thumb {
  background-color: #9ca3af !important;
  border-radius: 4px;
  border: 1px solid #f3f4f6;
  display: block !important;
}

.scrollbar-visible::-webkit-scrollbar-thumb:hover {
  background-color: #6b7280 !important;
}

.scrollbar-visible::-webkit-scrollbar-track {
  background-color: #f9fafb !important;
  border-radius: 4px;
  display: block !important;
}

/* Force scrollbar to always show when scrollbar-visible class is present */
.scrollbar-visible {
  overflow-y: scroll !important;
}

/* Enhanced hover effects for scrollbars */
.hover\:scrollbar-thumb-gray-400:hover::-webkit-scrollbar-thumb {
  background-color: #9ca3af;
}

.hover\:scrollbar-thumb-gray-400:hover::-webkit-scrollbar-thumb:hover {
  background-color: #6b7280;
}

/* Mobile scrollbar improvements */
@media (max-width: 768px) {
  .scrollbar-thin::-webkit-scrollbar {
    width: 4px;
  }
  
  .scrollbar-visible::-webkit-scrollbar {
    width: 6px;
  }
  
  .scrollbar-visible::-webkit-scrollbar-thumb {
    background-color: #d1d5db;
    border: none;
  }
  
  .scrollbar-visible::-webkit-scrollbar-thumb:hover {
    background-color: #9ca3af;
  }
}

/* Ujednolicenie wszystkich checkboxów jako kwadratowe */
@layer components {
  /* Standardowe checkboxy - zawsze kwadratowe */
  input[type="checkbox"] {
    @apply appearance-none w-4 h-4 border-2 border-gray-300 rounded bg-white checked:bg-green-600 checked:border-green-600 focus:ring-2 focus:ring-green-500 focus:ring-offset-0 relative cursor-pointer;
  }
  
  /* Ikona checkmark dla zaznaczonych checkboxów */
  input[type="checkbox"]:checked::before {
    content: '✓';
    @apply absolute inset-0 flex items-center justify-center text-white text-xs font-bold;
  }
  
  /* Radio buttons - przekształcenie na kwadratowe checkboxy */
  input[type="radio"] {
    @apply appearance-none w-4 h-4 border-2 border-gray-300 rounded bg-white checked:bg-green-600 checked:border-green-600 focus:ring-2 focus:ring-green-500 focus:ring-offset-0 relative cursor-pointer;
  }
  
  /* Ikona checkmark dla zaznaczonych radio buttons (teraz kwadratowych) */
  input[type="radio"]:checked::before {
    content: '✓';
    @apply absolute inset-0 flex items-center justify-center text-white text-xs font-bold;
  }
  
  /* Hover effects */
  input[type="checkbox"]:hover:not(:disabled),
  input[type="radio"]:hover:not(:disabled) {
    @apply border-green-400;
  }
  
/* Disabled state */
  input[type="checkbox"]:disabled,
  input[type="radio"]:disabled {
    @apply opacity-50 cursor-not-allowed bg-gray-100;
  }
}
